// --- location_map.html доторх Сонголтуудыг бөглөх хэсгийг ингэж шинэчилнэ ---

const aimagSelect = document.getElementById("aimagFilter");
const orgSelect = document.getElementById("orgFilter");
const nameSearch = document.getElementById("nameSearch");

// 1. Аймгуудын жагсаалтыг эрэмбэлж бөглөх
const aimags = [...new Set(points.map(p => p.aimag))].sort((a, b) => a.localeCompare(b, 'mn'));
aimags.forEach(a => {
    if(a !== "Тодорхойгүй") aimagSelect.innerHTML += `<option value="${a}">${a}</option>`;
});

// 2. Байгууллагуудын жагсаалтыг эрэмбэлж бөглөх (Улаанбаатар + 21 аймаг + Төвүүд)
const orgs = [...new Set(points.map(p => p.org))].filter(o => o && o !== "Тодорхойгүй");
const sortedOrgs = orgs.sort((a, b) => a.localeCompare(b, 'mn'));

sortedOrgs.forEach(o => {
    const opt = document.createElement("option");
    opt.value = o;
    opt.textContent = o;
    orgSelect.appendChild(opt);
});

// Хэрэв байгууллага нь тодорхойгүй станц байвал жагсаалтын төгсгөлд нэмнэ
if (points.some(p => p.org === "Тодорхойгүй")) {
    orgSelect.innerHTML += `<option value="Тодорхойгүй">Тодорхойгүй</option>`;
}
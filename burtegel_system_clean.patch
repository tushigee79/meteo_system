--- a/inventory/models.py
+++ b/inventory/models.py
@@ -14,7 +14,7 @@
     class Kind(models.TextChoices):
         ETALON = "ETALON", "Эталон"
         DEVICE = "DEVICE", "Багаж"
-        SYSTEM = "SYSTEM", "Том систем"
+        SYSTEM = "SYSTEM", "Иж бүрэн систем"
         OTHER = "OTHER", "Бусад"
 
     kind = models.CharField(
@@ -63,6 +63,8 @@
     name = models.CharField(max_length=100, verbose_name="Сум/Дүүргийн нэр")
     aimag = models.ForeignKey(Aimag, on_delete=models.CASCADE, related_name="sums")
     code = models.CharField(max_length=20, blank=True, default="", verbose_name="Код")
+
+    is_ub_district = models.BooleanField(default=False, verbose_name="УБ-ын дүүрэг эсэх")
 
     def __str__(self):
         return self.name
@@ -142,7 +144,7 @@
     class Kind(models.TextChoices):
         ETALON = "ETALON", "Эталон"
         DEVICE = "DEVICE", "Багаж"
-        SYSTEM = "SYSTEM", "Том систем"
+        SYSTEM = "SYSTEM", "Иж бүрэн систем"
         OTHER = "OTHER", "Бусад"
 
     STATUS_CHOICES = [
@@ -201,7 +203,7 @@
         verbose_name_plural = "Багаж/Эталон"
 
 class DeviceSystemProfile(models.Model):
-    """Том систем (радар, аэрологи, AWS гэх мэт) төхөөрөмжийн нэмэлт талбарууд"""
+    """Иж бүрэн систем (радар, аэрологи, AWS гэх мэт) төхөөрөмжийн нэмэлт талбарууд"""
 
     class SystemType(models.TextChoices):
         RADAR = "RADAR", "Цаг уурын радар"
@@ -250,8 +252,8 @@
     note = models.TextField(blank=True, default="", verbose_name="Тайлбар")
 
     class Meta:
-        verbose_name = "Том системийн профайл"
-        verbose_name_plural = "Том системийн профайлууд"
+        verbose_name = "Иж бүрэн системийн профайл"
+        verbose_name_plural = "Иж бүрэн системийн профайлууд"
 
 
 # ============================================================

--- a/inventory/views.py
+++ b/inventory/views.py
@@ -6,7 +6,8 @@
 from django.shortcuts import render, redirect, get_object_or_404
 from django.contrib import messages
 from django.db.models import Count, Q
-from django.http import HttpResponse
+from django.http import HttpResponse, JsonResponse
+from django.views.decorators.http import require_GET
 from django.core.serializers.json import DjangoJSONEncoder
 from django.contrib.admin.views.decorators import staff_member_required
 from django.utils import timezone
@@ -164,3 +165,53 @@
         "inventory/location_map.html",
         {"locations_json": json.dumps(points, cls=DjangoJSONEncoder)}
     )
+
+# =========================
+# API: Dependent dropdowns
+# =========================
+
+@require_GET
+def api_sum_duureg(request):
+    """Sum/Duureg жагсаалт (Аймаг/Нийслэлээр шүүж JSON буцаана)
+    GET: ?aimag_id=<id>
+
+    - Хэрэв aimag.name == "Улаанбаатар" бол зөвхөн is_ub_district=True (9 дүүрэг) буцаана.
+    - Бусад аймаг бол is_ub_district=False (сумууд) буцаана.
+    """
+    aimag_id = request.GET.get("aimag_id")
+    if not aimag_id:
+        return JsonResponse({"ok": False, "items": []})
+
+    qs = SumDuureg.objects.filter(aimag_id=aimag_id).order_by("name")
+
+    # Улаанбаатарын хувьд 9 дүүргийг, бусад тохиолдолд сумыг буцаана
+    try:
+        aimag = Aimag.objects.filter(id=aimag_id).first()
+        if aimag and (aimag.name or "").strip() == "Улаанбаатар":
+            qs = qs.filter(is_ub_district=True)
+        else:
+            qs = qs.filter(is_ub_district=False)
+    except Exception:
+        # field/өгөгдлийн асуудлаас болж API эвдрүүлэхгүй
+        pass
+
+    items = [{"id": s.id, "name": s.name} for s in qs]
+    return JsonResponse({"ok": True, "items": items})
+
+
+@require_GET
+def api_catalog_items(request):
+    """ДЦУБ каталогийг төрлөөр нь шүүж JSON буцаана
+    GET: ?kind=ETALON|DEVICE|SYSTEM|OTHER
+    """
+    kind = (request.GET.get("kind") or "").strip()
+    if not kind:
+        return JsonResponse({"ok": False, "items": []})
+
+    qs = (
+        InstrumentCatalog.objects
+        .filter(is_active=True, kind=kind)
+        .order_by("sort_order", "name_mn")
+    )
+    items = [{"id": c.id, "name": c.name_mn} for c in qs]
+    return JsonResponse({"ok": True, "items": items})

--- a/inventory/urls.py
+++ b/inventory/urls.py
@@ -6,6 +6,10 @@
 
 urlpatterns = [
     path("dashboard/", views.national_dashboard, name="national_dashboard"),
+
+    # API (dependent dropdown)
+    path("api/sum-duureg/", views.api_sum_duureg, name="api_sum_duureg"),
+    path("api/catalog/", views.api_catalog_items, name="api_catalog_items"),
     
     # Станцуудын нэгдсэн газрын зураг (location_map.html)
     path("map/", views.location_map, name="location_map"),

--- a/inventory/admin.py
+++ b/inventory/admin.py
@@ -201,7 +201,7 @@
 @admin.register(SumDuureg)
 class SumDuuregAdmin(AimagScopedAdminMixin, admin.ModelAdmin):
     search_fields = ("name", "code")
-    list_display = ("name", "aimag", "code")
+    list_display = ("name", "aimag", "code", "is_ub_district")
     autocomplete_fields = ("aimag",)
     list_filter = ("aimag",)
 
@@ -219,6 +219,10 @@
     list_filter = ("location_type", "aimag_ref", "district_name")
     search_fields = ("name", "wmo_index", "district_name")
     autocomplete_fields = ("aimag_ref", "sum_ref", "owner_org")
+
+    class Media:
+        js = ("inventory/admin_dependent_dropdowns.js",)
+
 
     @admin.display(description="Газрын зураг")
     def view_on_map(self, obj):
@@ -280,6 +284,10 @@
     search_fields = ("serial_number", "catalog_item__name_mn", "other_name", "location__name")
     autocomplete_fields = ("location",)
 
+    class Media:
+        js = ("inventory/admin_device_kind_filter.js",)
+
+
     def get_inline_instances(self, request, obj=None):
         inlines = super().get_inline_instances(request, obj)
         if not DeviceSystemProfile:

--- a/inventory/static/inventory/admin_dependent_dropdowns.js
+++ b/inventory/static/inventory/admin_dependent_dropdowns.js
@@ -0,0 +1,53 @@
+(function() {
+  // Location admin: aimag_ref -> sum_ref dependent dropdown
+  function byId(id) { return document.getElementById(id); }
+
+  function setOptions(selectEl, items, placeholder) {
+    if (!selectEl) return;
+    const current = selectEl.value;
+    selectEl.innerHTML = "";
+
+    const opt0 = document.createElement("option");
+    opt0.value = "";
+    opt0.textContent = placeholder || "---------";
+    selectEl.appendChild(opt0);
+
+    (items || []).forEach((it) => {
+      const opt = document.createElement("option");
+      opt.value = String(it.id);
+      opt.textContent = it.name;
+      selectEl.appendChild(opt);
+    });
+
+    if (current) {
+      const exists = Array.from(selectEl.options).some(o => o.value === current);
+      if (exists) selectEl.value = current;
+    }
+  }
+
+  async function loadSums(aimagId) {
+    const url = `/inventory/api/sum-duureg/?aimag_id=${encodeURIComponent(aimagId)}`;
+    const res = await fetch(url, { credentials: "same-origin" });
+    if (!res.ok) return { ok: false, items: [] };
+    return await res.json();
+  }
+
+  document.addEventListener("DOMContentLoaded", async function() {
+    const aimagSel = byId("id_aimag_ref");
+    const sumSel = byId("id_sum_ref");
+    if (!aimagSel || !sumSel) return;
+
+    async function refresh() {
+      const aimagId = aimagSel.value;
+      if (!aimagId) {
+        setOptions(sumSel, [], "---------");
+        return;
+      }
+      const data = await loadSums(aimagId);
+      setOptions(sumSel, data.items || [], "---------");
+    }
+
+    aimagSel.addEventListener("change", refresh);
+    await refresh();
+  });
+})();

--- a/inventory/static/inventory/admin_device_kind_filter.js
+++ b/inventory/static/inventory/admin_device_kind_filter.js
@@ -0,0 +1,67 @@
+(function() {
+  function byId(id) { return document.getElementById(id); }
+
+  function setOptions(selectEl, items, placeholder) {
+    if (!selectEl) return;
+    const current = selectEl.value;
+    selectEl.innerHTML = "";
+
+    const opt0 = document.createElement("option");
+    opt0.value = "";
+    opt0.textContent = placeholder || "---------";
+    selectEl.appendChild(opt0);
+
+    (items || []).forEach((it) => {
+      const opt = document.createElement("option");
+      opt.value = String(it.id);
+      opt.textContent = it.name;
+      selectEl.appendChild(opt);
+    });
+
+    if (current) {
+      const exists = Array.from(selectEl.options).some(o => o.value === current);
+      if (exists) selectEl.value = current;
+    }
+  }
+
+  async function loadCatalog(kind) {
+    const url = `/inventory/api/catalog/?kind=${encodeURIComponent(kind)}`;
+    const res = await fetch(url, { credentials: "same-origin" });
+    if (!res.ok) return { ok: false, items: [] };
+    return await res.json();
+  }
+
+  function toggleOtherFields(kind) {
+    const catalogSel = byId("id_catalog_item");
+    const otherName = byId("id_other_name");
+    if (!catalogSel) return;
+
+    const isOther = (kind === "OTHER");
+    catalogSel.disabled = isOther;
+
+    if (otherName) {
+      otherName.disabled = !isOther;
+      if (isOther) otherName.setAttribute("required", "required");
+      else otherName.removeAttribute("required");
+    }
+  }
+
+  document.addEventListener("DOMContentLoaded", async function() {
+    const kindSel = byId("id_kind");
+    const catalogSel = byId("id_catalog_item");
+    if (!kindSel || !catalogSel) return;
+
+    async function refreshCatalog() {
+      const kind = kindSel.value || "";
+      toggleOtherFields(kind);
+
+      if (!kind || kind === "OTHER") return;
+
+      const data = await loadCatalog(kind);
+      setOptions(catalogSel, data.items || [], "---------");
+    }
+
+    kindSel.addEventListener("change", refreshCatalog);
+    await refreshCatalog();
+  });
+})();

